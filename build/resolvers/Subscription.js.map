{"version":3,"sources":["../../src/resolvers/Subscription.js"],"names":["Subscription","comment","subscribe","parent","info","postId","db","pubsub","post","posts","find","id","published","Error","asyncIterator","args","default"],"mappings":";;;;;AAAA,IAAMA,eAAe;AACjBC,aAAS;AACLC,iBADK,qBACKC,MADL,eACyCC,IADzC,EAC8C;AAAA,gBAA/BC,MAA+B,QAA/BA,MAA+B;AAAA,gBAAnBC,EAAmB,SAAnBA,EAAmB;AAAA,gBAAfC,MAAe,SAAfA,MAAe;;AAC/C,gBAAMC,OAAOF,GAAGG,KAAH,CAASC,IAAT,CAAc,UAACF,IAAD;AAAA,uBAAUA,KAAKG,EAAL,KAAYN,MAAZ,IAAsBG,KAAKI,SAArC;AAAA,aAAd,CAAb;;AAEA,gBAAI,CAACJ,IAAL,EAAW;AACP,sBAAM,IAAIK,KAAJ,CAAU,gBAAV,CAAN;AACH;;AAED,mBAAON,OAAOO,aAAP,cAAgCT,MAAhC,CAAP;AACH;AATI,KADQ;AAYjBG,UAAM;AACFN,iBADE,qBACQC,MADR,EACgBY,IADhB,SACkCX,IADlC,EACwC;AAAA,gBAAhBG,MAAgB,SAAhBA,MAAgB;;AACtC,mBAAOA,OAAOO,aAAP,CAAqB,MAArB,CAAP;AACH;AAHC;AAZW,CAArB;;QAmByBE,O,GAAhBhB,Y","file":"Subscription.js","sourcesContent":["const Subscription = {\n    comment: {\n        subscribe(parent, { postId }, { db, pubsub }, info){\n            const post = db.posts.find((post) => post.id === postId && post.published)\n\n            if (!post) {\n                throw new Error('Post not found')\n            }\n\n            return pubsub.asyncIterator(`comment ${postId}`)\n        }\n    },\n    post: {\n        subscribe(parent, args, { pubsub }, info) {\n            return pubsub.asyncIterator('post')\n        }\n    }\n}\n\nexport { Subscription as default }"]}